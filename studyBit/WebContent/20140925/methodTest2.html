<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>객체 응용: 계산기</title>
</head>
<body>

  <script>
  
    "use strict";
    //같은 생성자 함수로 만든 객체들이 함수를 공유를 공유하는 방법
    //생성자 함수.prototype 객체에 저장한다.
    function Calculator(init) {
      if(init != undefined) {
        this.result = init;
      }else{
        this.result = 0;
      }
      //calc1에서 공용함수외에 다른공간의 함수는 호출못함
      //function test(init){ console.log("calc1에서 나도 갖고 쓸수 있을까?");}
    }
    
    //객체들이 사용할 함수를 공용 장소(prototype)에 저장한다.
    //주의! : 함수도 객체다.(.으로 참조 가능)
    Calculator.prototype.plus = function(value){ this.result += value;}
    Calculator.prototype.minus = function(value){ this.result -= value;}
    Calculator.prototype.multiple = function(value){this.result *= value;}
    Calculator.prototype.divide = function(value){this.result /= value;}

    var calc1  = new Calculator();
    var calc2 = new Calculator(10);
  
    //calc1.test();   //calc1에서 공용함수외에 다른공간의 함수는 호출못함
    
    // 0 + 7 - 3 * 8 =?
    // 10 * 3 - 7 / 2 = ?
    //calc1에 저장된 plus()함수를 찾는다 
    //있다 -> 호출 , 없다 -> 생성자 함수의 prototype에서 찾는다.
    calc1.plus(7);
    calc1.minus(3);
    calc1.multiple(8);
    
    calc2.multiple(3);
    calc2.minus(7);
    calc2.divide(2);
    
    console.log("calc1: ", calc1.result);
    console.log("calc2: ", calc2.result);
    

  </script>

</body>
</html>